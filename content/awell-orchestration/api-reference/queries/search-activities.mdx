---
title: Search activities
description: Search activities by status, type, patient and other criteria
---

**Two queries are available for activity lookups:**

1. `activities`: Search activities by status, type, patient, and other criteria.
2. `activity`: Get a single activity by its ID.

> We suggest reading the page on our [domain model](/awell-orchestration/docs/getting-started/domain-model) first to get an understanding of the activity model.

## Request

### Search activities

Search for activities with various filters including status, type, patient ID, pathway definition, and more.

```graphql
query GetActivities(
  $activity_type: [String!]
  $activity_status: [String!]
  $pathway_definition_id: [String!]
  $action: [String!]
  $patient_id: String
  $count: Float!
  $offset: Float!
  $sort_field: String!
  $sort_direction: String!
) {
  activities(
    filters: {
      activity_type: { in: $activity_type }
      action: { in: $action }
      pathway_definition_id: { in: $pathway_definition_id }
      patient_id: { eq: $patient_id }
      activity_status: { in: $activity_status }
    }
    pagination: { count: $count, offset: $offset }
    sorting: { field: $sort_field, direction: $sort_direction }
  ) {
    pagination {
      offset
      count
      total_count
    }
    sorting {
      field
      direction
    }
    activities {
      id
      stream_id # pathway id
      date
      subject {
        id
        name
        type
      }
      action
      object {
        id
        name
        type
      }
      indirect_object {
        id # typically the stakeholder id
        name
        type
      }
      resolution
      status
    }
  }
}
```

## Variables

### Required parameters

There are no required parameters for this query. However, you should provide pagination and sorting parameters. See `Pagination and Sorting` below.

### Filters

The filter is optional: if you don't provide one, an unfiltered list of care flows will be returned.

```graphql
query GetActivities(
  $count: Float!
  $offset: Float!
  $sort_field: String!
  $sort_direction: String!
) {
  activities(
    pagination: { count: $count, offset: $offset }
    sorting: { field: $sort_field, direction: $sort_direction }
  ) {
    pagination {
      count
      offset
      total_count
    }
    sorting {
      field
      direction
    }
    activities {
      ...Activity
    }
  }
}
```

All `in` filters accept a list of values and result in an `is any of` search criteria. The `eq` filter accepts a single string and results in `is exact match` search criteria.

When specifying multiple filters, the resulting criteria is the conjuction of all filters.

```json
{
  "action": ["ASSIGNED", "ACTIVATE"], // See ActivityAction enum
  "activity_type": ["FORM", "MESSAGE"], // See ActivityObjectType enum
  "activity_status": ["DONE", "ACTIVE"], // See ActivityStatus enum
  "pathway_definition_id": ["{{ PATHWAY_DEFINITION_ID }}"],
  "patient_id": "{{ PATIENT_ID }}",
  "offset": 0,
  "count": 20,
  "sort_field": "date",
  "sort_direction": "desc"
}
```

### Pagination and sorting

Pagination and sorting are required for this query. If no pagination values are supplied, the API will return only the first 100 activities, or 100 activities from the specified offset. There is an upper limit of 100 records per query. Please be aware that setting `count` greater than 100 will successfully execute but return only 100 records.

Default sorting is based on the `date` field, in descending order (i.e. newest to oldest).

```json
{
  "count": 100, // max 100
  "offset": 0,
  "sort_field": "date",
  "sort_direction": "DESC"
}
```

### Get single activity

Retrieve a single activity by its ID.

**Query:**

```graphql
query GetActivity($id: String!) {
  activity(id: $id) {
    code
    success
    activity {
      id
      stream_id
      date
      status
      action
      subject {
        id
        name
        type
      }
      object {
        id
        name
        type
      }
      indirect_object {
        id
        name
        type
      }
      context {
        instance_id
        pathway_id
        track_id
        step_id
        action_id
      }
      resolution
      isUserActivity
      inputs {
        ... on ActivityInputs {
          __typename
        }
      }
    }
  }
}
```

**Variables:**

```json
{
  "id": "{{ ACTIVITY_ID }}"
}
```

**Parameters:**

<div className="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Field</th>
        <th>Required</th>
        <th>Description</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>id</td>
        <td>Yes</td>
        <td>The unique identifier of the activity</td>
        <td>string</td>
      </tr>
    </tbody>
  </table>
</div>
